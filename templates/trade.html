<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trade - LoveNX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --background: #ffffff;
            --foreground: #0a0a0a;
            --card: #ffffff;
            --card-foreground: #0a0a0a;
            --primary: #030213;
            --primary-foreground: #ffffff;
            --secondary: #f3f4f6;
            --secondary-foreground: #030213;
            --muted: #ececf0;
            --muted-foreground: #717182;
            --accent: #e9ebef;
            --accent-foreground: #030213;
            --destructive: #d4183d;
            --destructive-foreground: #ffffff;
            --border: rgba(0, 0, 0, 0.1);
            --ring: #9ca3af;
            --chart-1: #f59e0b;
            --chart-2: #10b981;
            --chart-3: #3b82f6;
            --chart-4: #8b5cf6;
            --chart-5: #ef4444;
            --radius: 0.625rem;
        }
        
        body {
            background-color: var(--background);
            color: var(--foreground);
        }
        
        .bg-background { background-color: var(--background); }
        .bg-card { background-color: var(--card); }
        .bg-primary { background-color: var(--primary); }
        .bg-secondary { background-color: var(--secondary); }
        .bg-muted { background-color: var(--muted); }
        .bg-accent { background-color: var(--accent); }
        .text-foreground { color: var(--foreground); }
        .text-primary { color: var(--primary); }
        .text-primary-foreground { color: var(--primary-foreground); }
        .text-muted-foreground { color: var(--muted-foreground); }
        .border-border { border-color: var(--border); }
        .text-chart-1 { color: var(--chart-1); }
        .text-chart-2 { color: var(--chart-2); }
        .text-chart-3 { color: var(--chart-3); }
        .text-chart-4 { color: var(--chart-4); }
        .text-chart-5 { color: var(--chart-5); }
        
        .price-up { color: var(--chart-2); }
        .price-down { color: var(--chart-5); }
        
        .input-field {
            background-color: var(--secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 8px 12px;
            width: 100%;
            transition: all 0.2s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .btn-buy {
            background-color: var(--chart-2);
            color: white;
            border-radius: var(--radius);
            padding: 8px 16px;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: opacity 0.2s ease;
        }
        
        .btn-sell {
            background-color: var(--chart-5);
            color: white;
            border-radius: var(--radius);
            padding: 8px 16px;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: opacity 0.2s ease;
        }
        
        .btn-buy:hover, .btn-sell:hover {
            opacity: 0.9;
        }
        
        .order-book-row:hover {
            background-color: var(--muted);
        }
        
        .tab-button {
            padding: 8px 16px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            background-color: var(--background);
            color: var(--foreground);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .tab-button.active {
            background-color: var(--primary);
            color: var(--primary-foreground);
            border-color: var(--primary);
        }
    </style>
</head>
<body class="h-full bg-background text-foreground">
    <!-- Navigation -->
    <nav class="border-b border-border/40 bg-card">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <div class="flex items-center gap-3">
                    <div class="h-10 w-10">
                        <svg viewBox="0 0 48 48" class="w-full h-full" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="24" cy="24" r="20" stroke="url(#gradient1)" stroke-width="2" fill="none" class="opacity-80"/>
                            <path d="M24 8L36 24L24 40L12 24L24 8Z" fill="url(#gradient2)" class="opacity-90"/>
                            <path d="M24 16L30 24L24 32L18 24L24 16Z" fill="var(--primary-foreground)"/>
                            <path d="M10 28L16 24L22 26L28 22L34 26L38 24" stroke="url(#gradient1)" stroke-width="1.5" fill="none" class="opacity-60"/>
                            <defs>
                                <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="var(--primary)"/>
                                    <stop offset="100%" stop-color="var(--chart-1)"/>
                                </linearGradient>
                                <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="var(--primary)"/>
                                    <stop offset="50%" stop-color="var(--chart-1)"/>
                                    <stop offset="100%" stop-color="var(--primary)"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold tracking-tight">
                            <span class="text-primary">love</span><span class="text-chart-1">nx</span>
                        </h1>
                    </div>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-6">
                    <a href="index.html" class="nav-link text-foreground hover:text-primary transition-colors">Home</a>
                    <a href="trade.html" class="nav-link text-primary font-medium transition-colors">Trade</a>
                    <a href="history.html" class="nav-link text-foreground hover:text-primary transition-colors">History</a>
                    <a href="profile.html" class="nav-link text-foreground hover:text-primary transition-colors">Profile</a>
                </div>

                <!-- User Menu -->
                <div class="flex items-center space-x-4" id="userMenu">
                    <div class="relative">
                        <button class="flex items-center space-x-2 text-foreground hover:text-primary transition-colors" onclick="toggleDropdown()">
                            <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                                <i class="fas fa-user text-primary-foreground text-sm"></i>
                            </div>
                            <span id="userName">User</span>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                        <div id="dropdownMenu" class="absolute right-0 mt-2 w-48 bg-card border border-border rounded-lg shadow-lg hidden z-50">
                            <a href="profile.html" class="block px-4 py-2 text-foreground hover:bg-accent transition-colors">Profile</a>
                            <a href="history.html" class="block px-4 py-2 text-foreground hover:bg-accent transition-colors">History</a>
                            <button onclick="logout()" class="block w-full text-left px-4 py-2 text-foreground hover:bg-accent transition-colors">Logout</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Trading Interface -->
    <div class="container mx-auto px-6 py-6">
        <!-- Market Selector -->
        <div class="mb-6">
            <div class="flex items-center space-x-4 mb-4">
                <select id="marketSelector" class="input-field w-auto" onchange="changeMarket()">
                    <option value="BTC/USD">BTC/USD</option>
                    <option value="ETH/USD">ETH/USD</option>
                    <option value="SOL/USD">SOL/USD</option>
                    <option value="BNB/USD">BNB/USD</option>
                </select>
                <div class="flex items-center space-x-2">
                    <span class="text-2xl font-bold" id="currentPrice">$43,250.00</span>
                    <span class="price-up" id="priceChange">+2.34%</span>
                </div>
            </div>
            
            <!-- Market Stats -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                <div class="bg-card border border-border rounded-lg p-4">
                    <div class="text-sm text-muted-foreground">24h High</div>
                    <div class="font-medium" id="high24h">$44,125.00</div>
                </div>
                <div class="bg-card border border-border rounded-lg p-4">
                    <div class="text-sm text-muted-foreground">24h Low</div>
                    <div class="font-medium" id="low24h">$42,180.00</div>
                </div>
                <div class="bg-card border border-border rounded-lg p-4">
                    <div class="text-sm text-muted-foreground">24h Volume</div>
                    <div class="font-medium" id="volume24h">1,234.56 BTC</div>
                </div>
                <div class="bg-card border border-border rounded-lg p-4">
                    <div class="text-sm text-muted-foreground">Market Cap</div>
                    <div class="font-medium" id="marketCap">$847.2B</div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
            <!-- Chart Section -->
            <div class="lg:col-span-3">
                <div class="bg-card border border-border rounded-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Price Chart</h3>
                        <div class="flex items-center space-x-2">
                            <button class="tab-button active" onclick="changeTimeframe('1H')">1H</button>
                            <button class="tab-button" onclick="changeTimeframe('4H')">4H</button>
                            <button class="tab-button" onclick="changeTimeframe('1D')">1D</button>
                            <button class="tab-button" onclick="changeTimeframe('1W')">1W</button>
                        </div>
                    </div>
                    <div class="h-96">
                        <canvas id="priceChart"></canvas>
                    </div>
                </div>
                
                <!-- Order Book -->
                <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-card border border-border rounded-lg p-6">
                        <h3 class="text-lg font-semibold mb-4">Order Book</h3>
                        <div class="space-y-2">
                            <div class="flex justify-between text-sm text-muted-foreground border-b border-border pb-2">
                                <span>Price (USD)</span>
                                <span>Amount (BTC)</span>
                                <span>Total</span>
                            </div>
                            <!-- Sell Orders -->
                            <div id="sellOrders" class="space-y-1">
                                <!-- Populated by JavaScript -->
                            </div>
                            <div class="border-t border-border pt-2 pb-2">
                                <div class="text-center font-bold" id="spreadPrice">$43,250.00</div>
                            </div>
                            <!-- Buy Orders -->
                            <div id="buyOrders" class="space-y-1">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recent Trades -->
                    <div class="bg-card border border-border rounded-lg p-6">
                        <h3 class="text-lg font-semibold mb-4">Recent Trades</h3>
                        <div class="space-y-2">
                            <div class="flex justify-between text-sm text-muted-foreground border-b border-border pb-2">
                                <span>Price</span>
                                <span>Amount</span>
                                <span>Time</span>
                            </div>
                            <div id="recentTrades" class="space-y-1 max-h-64 overflow-y-auto">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Trading Panel -->
            <div class="lg:col-span-1">
                <div class="bg-card border border-border rounded-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold">Place Order</h3>
                        <div class="text-sm text-muted-foreground">Balance: $10,000.00</div>
                    </div>
                    
                    <!-- Order Type Tabs -->
                    <div class="flex space-x-2 mb-4">
                        <button class="tab-button active" onclick="setOrderType('market')" id="marketTab">Market</button>
                        <button class="tab-button" onclick="setOrderType('limit')" id="limitTab">Limit</button>
                    </div>
                    
                    <!-- Buy/Sell Tabs -->
                    <div class="flex space-x-2 mb-4">
                        <button class="btn-buy flex-1 active" onclick="setOrderSide('buy')" id="buyTab">Buy</button>
                        <button class="btn-sell flex-1" onclick="setOrderSide('sell')" id="sellTab">Sell</button>
                    </div>
                    
                    <!-- Order Form -->
                    <form onsubmit="placeOrder(event)" class="space-y-4">
                        <div id="limitPriceField" class="hidden">
                            <label class="block text-sm font-medium mb-1">Limit Price</label>
                            <input type="number" id="limitPrice" class="input-field" placeholder="0.00" step="0.01">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-1">Amount</label>
                            <input type="number" id="orderAmount" class="input-field" placeholder="0.001" step="0.001" required>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-1">Total (USD)</label>
                            <input type="number" id="orderTotal" class="input-field" placeholder="0.00" step="0.01" readonly>
                        </div>
                        
                        <!-- Quick Amount Buttons -->
                        <div class="grid grid-cols-4 gap-2">
                            <button type="button" class="tab-button text-xs" onclick="setQuickAmount(25)">25%</button>
                            <button type="button" class="tab-button text-xs" onclick="setQuickAmount(50)">50%</button>
                            <button type="button" class="tab-button text-xs" onclick="setQuickAmount(75)">75%</button>
                            <button type="button" class="tab-button text-xs" onclick="setQuickAmount(100)">100%</button>
                        </div>
                        
                        <button type="submit" class="w-full btn-buy" id="orderSubmitBtn">
                            Buy BTC
                        </button>
                    </form>
                </div>
                
                <!-- Portfolio -->
                <div class="mt-6 bg-card border border-border rounded-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">Portfolio</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium">USD</div>
                                <div class="text-sm text-muted-foreground">US Dollar</div>
                            </div>
                            <div class="text-right">
                                <div class="font-medium">$10,000.00</div>
                                <div class="text-sm text-muted-foreground">Available</div>
                            </div>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium">BTC</div>
                                <div class="text-sm text-muted-foreground">Bitcoin</div>
                            </div>
                            <div class="text-right">
                                <div class="font-medium">0.25000000</div>
                                <div class="text-sm text-muted-foreground">≈ $10,812.50</div>
                            </div>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium">ETH</div>
                                <div class="text-sm text-muted-foreground">Ethereum</div>
                            </div>
                            <div class="text-right">
                                <div class="font-medium">1.50000000</div>
                                <div class="text-sm text-muted-foreground">≈ $4,020.75</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4 pt-4 border-t border-border">
                        <div class="flex justify-between items-center">
                            <span class="font-semibold">Total Portfolio</span>
                            <span class="font-semibold text-chart-2">$24,833.25</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentMarket = 'BTC/USD';
        let currentOrderType = 'market';
        let currentOrderSide = 'buy';
        let priceChart;
        let currentPrice = 43250.00;
        
        // Mock market data
        const marketData = {
            'BTC/USD': { price: 43250.00, change: 2.34, high: 44125.00, low: 42180.00, volume: '1,234.56', marketCap: '$847.2B' },
            'ETH/USD': { price: 2680.50, change: -1.24, high: 2720.00, low: 2650.00, volume: '15,678.90', marketCap: '$322.5B' },
            'SOL/USD': { price: 98.75, change: 5.67, high: 102.30, low: 95.20, volume: '45,123.78', marketCap: '$43.1B' },
            'BNB/USD': { price: 315.20, change: 3.45, high: 325.80, low: 310.50, volume: '8,901.23', marketCap: '$47.2B' }
        };
        
        function toggleDropdown() {
            const dropdown = document.getElementById('dropdownMenu');
            dropdown.classList.toggle('hidden');
        }
        
        function logout() {
            localStorage.removeItem('isLoggedIn');
            localStorage.removeItem('userName');
            localStorage.removeItem('userEmail');
            window.location.href = 'index.html';
        }
        
        function changeMarket() {
            const selector = document.getElementById('marketSelector');
            currentMarket = selector.value;
            updateMarketData();
            updateChart();
        }
        
        function updateMarketData() {
            const data = marketData[currentMarket];
            currentPrice = data.price;
            
            document.getElementById('currentPrice').textContent = `$${data.price.toLocaleString()}`;
            document.getElementById('priceChange').textContent = `${data.change >= 0 ? '+' : ''}${data.change.toFixed(2)}%`;
            document.getElementById('priceChange').className = data.change >= 0 ? 'price-up' : 'price-down';
            document.getElementById('high24h').textContent = `$${data.high.toLocaleString()}`;
            document.getElementById('low24h').textContent = `$${data.low.toLocaleString()}`;
            document.getElementById('volume24h').textContent = `${data.volume} ${currentMarket.split('/')[0]}`;
            document.getElementById('marketCap').textContent = data.marketCap;
            document.getElementById('spreadPrice').textContent = `$${data.price.toLocaleString()}`;
        }
        
        function initChart() {
            const ctx = document.getElementById('priceChart').getContext('2d');
            
            // Generate mock price data
            const data = [];
            const labels = [];
            let basePrice = currentPrice;
            
            for (let i = 0; i < 24; i++) {
                const variation = (Math.random() - 0.5) * 1000;
                basePrice += variation;
                data.push(basePrice);
                labels.push(`${i}:00`);
            }
            
            priceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: currentMarket,
                        data: data,
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        }
                    }
                }
            });
        }
        
        function updateChart() {
            if (priceChart) {
                priceChart.destroy();
            }
            initChart();
        }
        
        function changeTimeframe(timeframe) {
            // Update active tab
            document.querySelectorAll('.tab-button').forEach(btn => {
                if (btn.textContent === timeframe) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            updateChart();
        }
        
        function setOrderType(type) {
            currentOrderType = type;
            
            document.getElementById('marketTab').classList.toggle('active', type === 'market');
            document.getElementById('limitTab').classList.toggle('active', type === 'limit');
            
            const limitPriceField = document.getElementById('limitPriceField');
            if (type === 'limit') {
                limitPriceField.classList.remove('hidden');
                document.getElementById('limitPrice').value = currentPrice;
            } else {
                limitPriceField.classList.add('hidden');
            }
            
            calculateTotal();
        }
        
        function setOrderSide(side) {
            currentOrderSide = side;
            
            const buyTab = document.getElementById('buyTab');
            const sellTab = document.getElementById('sellTab');
            const submitBtn = document.getElementById('orderSubmitBtn');
            
            if (side === 'buy') {
                buyTab.classList.add('active');
                sellTab.classList.remove('active');
                submitBtn.textContent = `Buy ${currentMarket.split('/')[0]}`;
                submitBtn.className = 'w-full btn-buy';
            } else {
                buyTab.classList.remove('active');
                sellTab.classList.add('active');
                submitBtn.textContent = `Sell ${currentMarket.split('/')[0]}`;
                submitBtn.className = 'w-full btn-sell';
            }
        }
        
        function calculateTotal() {
            const amount = parseFloat(document.getElementById('orderAmount').value) || 0;
            const price = currentOrderType === 'limit' ? 
                parseFloat(document.getElementById('limitPrice').value) || currentPrice : 
                currentPrice;
            
            const total = amount * price;
            document.getElementById('orderTotal').value = total.toFixed(2);
        }
        
        function setQuickAmount(percentage) {
            const balance = 10000; // Mock balance
            const price = currentOrderType === 'limit' ? 
                parseFloat(document.getElementById('limitPrice').value) || currentPrice : 
                currentPrice;
            
            const amount = (balance * percentage / 100) / price;
            document.getElementById('orderAmount').value = amount.toFixed(6);
            calculateTotal();
        }
        
        function placeOrder(event) {
            event.preventDefault();
            
            const amount = parseFloat(document.getElementById('orderAmount').value);
            const price = currentOrderType === 'limit' ? 
                parseFloat(document.getElementById('limitPrice').value) : 
                currentPrice;
            
            if (!amount || amount <= 0) {
                alert('Please enter a valid amount');
                return;
            }
            
            // Simulate order placement
            const orderDetails = {
                market: currentMarket,
                type: currentOrderType,
                side: currentOrderSide,
                amount: amount,
                price: price,
                total: amount * price,
                timestamp: new Date()
            };
            
            // Store order in localStorage for history
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            orders.unshift(orderDetails);
            localStorage.setItem('orders', JSON.stringify(orders));
            
            alert(`${currentOrderSide.toUpperCase()} order placed successfully!\n${amount} ${currentMarket.split('/')[0]} at $${price.toFixed(2)}`);
            
            // Reset form
            document.getElementById('orderAmount').value = '';
            document.getElementById('orderTotal').value = '';
        }
        
        function populateOrderBook() {
            const sellOrdersContainer = document.getElementById('sellOrders');
            const buyOrdersContainer = document.getElementById('buyOrders');
            
            // Generate mock sell orders (higher prices)
            sellOrdersContainer.innerHTML = '';
            for (let i = 5; i > 0; i--) {
                const price = currentPrice + (i * 10);
                const amount = (Math.random() * 2).toFixed(6);
                const total = (price * amount).toFixed(2);
                
                const row = document.createElement('div');
                row.className = 'flex justify-between text-xs order-book-row p-1 rounded';
                row.innerHTML = `
                    <span class="text-chart-5">$${price.toFixed(2)}</span>
                    <span>${amount}</span>
                    <span>$${total}</span>
                `;
                sellOrdersContainer.appendChild(row);
            }
            
            // Generate mock buy orders (lower prices)
            buyOrdersContainer.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const price = currentPrice - (i * 10);
                const amount = (Math.random() * 2).toFixed(6);
                const total = (price * amount).toFixed(2);
                
                const row = document.createElement('div');
                row.className = 'flex justify-between text-xs order-book-row p-1 rounded';
                row.innerHTML = `
                    <span class="text-chart-2">$${price.toFixed(2)}</span>
                    <span>${amount}</span>
                    <span>$${total}</span>
                `;
                buyOrdersContainer.appendChild(row);
            }
        }
        
        function populateRecentTrades() {
            const tradesContainer = document.getElementById('recentTrades');
            tradesContainer.innerHTML = '';
            
            for (let i = 0; i < 15; i++) {
                const priceVariation = (Math.random() - 0.5) * 100;
                const price = currentPrice + priceVariation;
                const amount = (Math.random() * 1).toFixed(6);
                const isUp = Math.random() > 0.5;
                const time = new Date(Date.now() - i * 60000).toLocaleTimeString();
                
                const row = document.createElement('div');
                row.className = 'flex justify-between text-xs p-1';
                row.innerHTML = `
                    <span class="${isUp ? 'text-chart-2' : 'text-chart-5'}">$${price.toFixed(2)}</span>
                    <span>${amount}</span>
                    <span class="text-muted-foreground">${time}</span>
                `;
                tradesContainer.appendChild(row);
            }
        }
        
        // Event listeners
        document.getElementById('orderAmount').addEventListener('input', calculateTotal);
        document.getElementById('limitPrice').addEventListener('input', calculateTotal);
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Check if logged in
            if (localStorage.getItem('isLoggedIn') !== 'true') {
                window.location.href = 'login.html';
                return;
            }
            
            // Set user name
            const userName = localStorage.getItem('userName') || 'User';
            document.getElementById('userName').textContent = userName;
            
            // Initialize trading interface
            updateMarketData();
            initChart();
            populateOrderBook();
            populateRecentTrades();
            
            // Update data periodically
            setInterval(() => {
                // Simulate price changes
                const variation = (Math.random() - 0.5) * 100;
                marketData[currentMarket].price += variation;
                marketData[currentMarket].change += (Math.random() - 0.5) * 0.5;
                
                updateMarketData();
                populateOrderBook();
                populateRecentTrades();
            }, 5000);
        });
    </script>
</body>
</html>