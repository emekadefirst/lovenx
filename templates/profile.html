{% extends 'base.html' %}
{% block content %}
    <style>
        :root {
            --background: #ffffff;
            --foreground: #0a0a0a;
            --card: #ffffff;
            --card-foreground: #0a0a0a;
            --primary: #030213;
            --primary-foreground: #ffffff;
            --secondary: #f3f4f6;
            --secondary-foreground: #030213;
            --muted: #ececf0;
            --muted-foreground: #717182;
            --accent: #e9ebef;
            --accent-foreground: #030213;
            --destructive: #d4183d;
            --destructive-foreground: #ffffff;
            --border: rgba(0, 0, 0, 0.1);
            --ring: #9ca3af;
            --chart-1: #f59e0b;
            --chart-2: #10b981;
            --chart-3: #3b82f6;
            --chart-4: #8b5cf6;
            --chart-5: #ef4444;
            --radius: 0.625rem;
        }
        
        body {
            background-color: var(--background);
            color: var(--foreground);
        }
        
        .bg-background { background-color: var(--background); }
        .bg-card { background-color: var(--card); }
        .bg-primary { background-color: var(--primary); }
        .bg-secondary { background-color: var(--secondary); }
        .bg-muted { background-color: var(--muted); }
        .bg-accent { background-color: var(--accent); }
        .text-foreground { color: var(--foreground); }
        .text-primary { color: var(--primary); }
        .text-primary-foreground { color: var(--primary-foreground); }
        .text-muted-foreground { color: var(--muted-foreground); }
        .border-border { border-color: var(--border); }
        .text-chart-1 { color: var(--chart-1); }
        .text-chart-2 { color: var(--chart-2); }
        .text-chart-3 { color: var(--chart-3); }
        .text-chart-4 { color: var(--chart-4); }
        .text-chart-5 { color: var(--chart-5); }
        
        .input-field {
            background-color: var(--secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 12px 16px;
            width: 100%;
            transition: all 0.2s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: var(--primary-foreground);
            border-radius: var(--radius);
            padding: 12px 24px;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: opacity 0.2s ease;
        }
        
        .btn-primary:hover {
            opacity: 0.9;
        }
        
        .btn-secondary {
            background-color: var(--secondary);
            color: var(--foreground);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 12px 24px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-secondary:hover {
            background-color: var(--accent);
        }
        
        .tab-button {
            padding: 8px 16px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            background-color: var(--background);
            color: var(--foreground);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .tab-button.active {
            background-color: var(--primary);
            color: var(--primary-foreground);
            border-color: var(--primary);
        }
        
        .stat-card {
            background: linear-gradient(135deg, var(--primary) 0%, var(--chart-1) 100%);
            color: var(--primary-foreground);
        }
    </style>

    <!-- Main Content -->
    <div class="container mx-auto px-6 py-8">
        <!-- Profile Header -->
        <div class="bg-card border border-border rounded-lg p-6 mb-8">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                <div class="flex items-center space-x-4 mb-4 md:mb-0">
                    <div class="w-20 h-20 bg-primary rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-primary-foreground text-2xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold" id="profileName">{{user.username}}</h1>
                        <p class="text-muted-foreground" id="profileEmail">{{user.email}}</p>
                        <div class="flex items-center mt-2">
                            <span class="px-2 py-1 bg-chart-2 text-white rounded text-xs font-medium">Verified</span>
                            <span class="ml-2 text-sm text-muted-foreground">Member since Dec 2023</span>
                        </div>
                    </div>
                </div>
                <div class="flex space-x-3">
                    <button class="btn-secondary" onclick="changePassword()">
                        <i class="fas fa-key mr-2"></i>Change Password
                    </button>
                    <button class="btn-primary" onclick="editProfile()">
                        <i class="fas fa-edit mr-2"></i>Edit Profile
                    </button>
                </div>
            </div>
        </div>

        <!-- Portfolio Overview -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
            <!-- Portfolio Value -->
            <div class="lg:col-span-2">
                <div class="bg-card border border-border rounded-lg p-6">
                    <h2 class="text-xl font-semibold mb-6">Portfolio Overview</h2>
                    
                    <!-- Total Value Card -->
                    <div class="stat-card rounded-lg p-6 mb-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-primary-foreground opacity-80">Total Portfolio Value</p>
                                <p class="text-3xl font-bold text-primary-foreground" id="totalValue">$24,833.25</p>
                                <p class="text-primary-foreground opacity-80 mt-1">
                                    <span class="text-green-300" id="portfolioChange">+$2,847.52 (+12.95%)</span> today
                                </p>
                            </div>
                            <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center">
                                <i class="fas fa-chart-line text-2xl text-primary-foreground"></i>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Portfolio Chart -->
                    <div>
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-semibold">Portfolio Performance</h3>
                            <div class="flex space-x-2">
                                <button class="tab-button active" onclick="changeChartPeriod('7D')">7D</button>
                                <button class="tab-button" onclick="changeChartPeriod('1M')">1M</button>
                                <button class="tab-button" onclick="changeChartPeriod('3M')">3M</button>
                                <button class="tab-button" onclick="changeChartPeriod('1Y')">1Y</button>
                            </div>
                        </div>
                        <div class="h-64">
                            <canvas id="portfolioChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Holdings & Quick Stats -->
            <div class="space-y-6">
                <!-- Current Holdings -->
                <div class="bg-card border border-border rounded-lg p-6">
                    <h3 class="font-semibold mb-4">Current Holdings</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-chart-1/10 rounded-full flex items-center justify-center mr-3">
                                    <span class="text-xs font-bold text-chart-1">B</span>
                                </div>
                                <div>
                                    <div class="font-medium">Bitcoin</div>
                                    <div class="text-sm text-muted-foreground">0.25000000 BTC</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-medium">$10,812.50</div>
                                <div class="text-sm text-chart-2">+5.2%</div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-chart-3/10 rounded-full flex items-center justify-center mr-3">
                                    <span class="text-xs font-bold text-chart-3">E</span>
                                </div>
                                <div>
                                    <div class="font-medium">Ethereum</div>
                                    <div class="text-sm text-muted-foreground">1.50000000 ETH</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-medium">$4,020.75</div>
                                <div class="text-sm text-chart-5">-2.1%</div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-chart-4/10 rounded-full flex items-center justify-center mr-3">
                                    <span class="text-xs font-bold text-chart-4">S</span>
                                </div>
                                <div>
                                    <div class="font-medium">Solana</div>
                                    <div class="text-sm text-muted-foreground">100.00000000 SOL</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-medium">$9,875.00</div>
                                <div class="text-sm text-chart-2">+8.7%</div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between pt-4 border-t border-border">
                            <div class="font-medium">Cash (USD)</div>
                            <div class="font-medium">$125.00</div>
                        </div>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="bg-card border border-border rounded-lg p-6">
                    <h3 class="font-semibold mb-4">Quick Stats</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between">
                            <span class="text-muted-foreground">Total Trades</span>
                            <span class="font-medium">127</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-muted-foreground">Win Rate</span>
                            <span class="font-medium text-chart-2">68.5%</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-muted-foreground">Best Day</span>
                            <span class="font-medium text-chart-2">+$1,247.83</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-muted-foreground">Worst Day</span>
                            <span class="font-medium text-chart-5">-$543.21</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-muted-foreground">Avg Trade Size</span>
                            <span class="font-medium">$382.74</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Sections -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Account Settings -->
            <div class="bg-card border border-border rounded-lg p-6">
                <h2 class="text-xl font-semibold mb-6">Account Settings</h2>
                
                <form class="space-y-6" onsubmit="updateProfile(event)">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">First Name</label>
                            <input type="text" id="firstName" class="input-field" value="John">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Last Name</label>
                            <input type="text" id="lastName" class="input-field" value="Doe">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">Email</label>
                        <input type="email" id="email" class="input-field" value="john@example.com">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">Phone Number</label>
                        <input type="tel" id="phone" class="input-field" value="+1 (555) 123-4567">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-2">Country</label>
                        <select id="country" class="input-field">
                            <option value="US">United States</option>
                            <option value="CA">Canada</option>
                            <option value="UK">United Kingdom</option>
                            <option value="AU">Australia</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn-primary w-full">
                        Update Profile
                    </button>
                </form>
            </div>

            <!-- Security & Preferences -->
            <div class="space-y-6">
                <!-- Security Settings -->
                <div class="bg-card border border-border rounded-lg p-6">
                    <h3 class="font-semibold mb-4">Security Settings</h3>
                    
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-medium">Two-Factor Authentication</div>
                                <div class="text-sm text-muted-foreground">Add an extra layer of security</div>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" id="twoFactor">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                            </label>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-medium">Email Notifications</div>
                                <div class="text-sm text-muted-foreground">Receive trade confirmations</div>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" id="emailNotifs" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                            </label>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="font-medium">SMS Notifications</div>
                                <div class="text-sm text-muted-foreground">Receive SMS alerts</div>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" class="sr-only peer" id="smsNotifs">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                            </label>
                        </div>
                    </div>
                    
                    <button class="btn-secondary w-full mt-4" onclick="manageApiKeys()">
                        <i class="fas fa-key mr-2"></i>Manage API Keys
                    </button>
                </div>

                <!-- Trading Preferences -->
                <div class="bg-card border border-border rounded-lg p-6">
                    <h3 class="font-semibold mb-4">Trading Preferences</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">Default Trading Pair</label>
                            <select class="input-field">
                                <option value="BTC/USD">BTC/USD</option>
                                <option value="ETH/USD">ETH/USD</option>
                                <option value="SOL/USD">SOL/USD</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">Default Order Type</label>
                            <select class="input-field">
                                <option value="market">Market Order</option>
                                <option value="limit">Limit Order</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">Risk Level</label>
                            <select class="input-field">
                                <option value="conservative">Conservative</option>
                                <option value="moderate">Moderate</option>
                                <option value="aggressive">Aggressive</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}